<div class="container d-flex">
  <div class="row flex-grow-1 align-items-center justify-content-center">
    <div class="col-lg-10">
      <mat-card>
        <mat-card-header class="header">
          <mat-card-title>
            Chat
          </mat-card-title>
          <!-- <p>
            <button (click)="createGlobalChat()">Create Global</button>
          </p> -->
        </mat-card-header>



        <mat-card-content>

          <mat-form-field class="custom-input">
            <mat-label>Search Chat</mat-label>
            <div matPrefix>
              <mat-icon>search</mat-icon>
            </div>
            <input matInput placeholder="Search chat" [(ngModel)]="searchQuery" (keyup)="search($event)">
            <ul *ngIf="showAutocomplete">
              <!-- <li *ngFor="let channel of autocompleteResults" (click)="selectAutocomplete(channel)">
                              {{ channel.name }}
                            </li> -->
              <mat-list class="user-list">
                <ng-container *ngFor="let channel of autocompleteResults" (click)="selectAutocomplete(channel)">
                  <mat-list-item class="custom-user-box">
                    <mat-icon matListAvatar>account_circle</mat-icon>
                    <button mat-button [value]="channel.name" (click)="goToChatPage(channel)">{{ channel.name
                      }}</button>
                  </mat-list-item>
                </ng-container>
              </mat-list>
            </ul>
          </mat-form-field>

          <mat-nav-list>
            <!-- <h3><mat-icon>group</mat-icon> Current Chats</h3> -->
            <mat-list class="user-list">
              <ng-container *ngFor="let channel of conversations; let i = index">
                <mat-list-item class="custom-user-box">
                  <mat-icon class="icon" matListAvatar>account_circle</mat-icon>
                  <button class="user" mat-button [value]="channel.name" (click)="goToChatPage(channel)">{{ channel.name
                    }}</button>
                  <span class="last-message">{{ getLastMessage(channel) }}</span>
                  <span class="date">{{ getLastMessageDate(channel) }}</span>
                </mat-list-item>
              </ng-container>
            </mat-list>
            <div>
              {{ listConversationsResult }}
            </div>
          </mat-nav-list>



        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>